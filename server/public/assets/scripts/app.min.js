/*! tcs_master 2015-12-14 */
function addStore(){event.preventDefault();var a={},b=[],c=new google.maps.Geocoder;$.each($(this).serializeArray(),function(b,c){a[c.name]=c.value});for(var d=$("input:checkbox:checked.group1").map(function(){return this.value}).get(),e=0;e<d.length;e++)b.push({category:d[e]});a.categories=b,c.geocode({address:a.address},function(b,c){if(c==google.maps.GeocoderStatus.OK){var d=b[0].geometry.location.lat(),e=b[0].geometry.location.lng(),g=[];g.push(d),g.push(e),a.latlong=g,f()}else alert("Geocode was not successful for the following reason: "+c)}),$(".appendDom").empty(),$(this).find("input[type=text]").val(""),$(this).find("textarea").val(""),$(this).find("input[type=checkbox]").removeAttr("checked");var f=function(){$.ajax({type:"POST",url:"/addStore",data:a,success:function(a){}})}}function handleLocationError(a,b,c){b.setPosition(c),b.setContent(a?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation.")}$(document).ready(function(){$("#addStoreForm").submit(addStore),$("#categoriesTab a").click(function(a){$(this).parent("li").hasClass("active")?$($(this).attr("href")).hide():(a.preventDefault(),$(this).tab("show"))}),$("#informationTab a").click(function(a){$(this).parent("li").hasClass("active")?$($(this).attr("href")).hide():(a.preventDefault(),$(this).tab("show"))})});var varLatLong={},myLatLng={};$(document).ready(function(){getCurrentLocation(),findStore()});var getCurrentLocation=function(){var a=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:6}),b=new google.maps.InfoWindow({map:a});navigator.geolocation?navigator.geolocation.getCurrentPosition(function(c){var d={lat:c.coords.latitude,lng:c.coords.longitude};b.setPosition(d),b.setContent("Location found."),a.setCenter(d)},function(){handleLocationError(!0,b,a.getCenter())}):handleLocationError(!1,b,a.getCenter())},findStore=function(){$.ajax({type:"GET",url:"/addStore",data:myLatLng,success:function(a){var b=a[0].latlong,c=parseFloat(b[0]),d=parseFloat(b[1]);varLatLong.lat=c,varLatLong.lng=d,initMap()}})};$(document).ready(function(){$(".body").on("click","#searchstores",function(){SearchStores(),console.log("Click?")})});var SearchStores=function(){$.ajax({type:"GET",url:"/addStore",success:function(a){console.log("Here is the response data: ",a)}})};